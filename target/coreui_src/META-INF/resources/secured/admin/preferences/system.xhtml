<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="../../../WEB-INF/template.xhtml">

    <ui:define name="title">Administration - Préférences système</ui:define>

    <ui:define name="content">
        <div class="col-12">


            <h:form>
                <p:breadCrumb>
                    <p:menuitem value="Zero"/>
                    <p:menuitem value="Administration" outcome="/secured/admin/admin.xhtml"/>
                    <p:menuitem value="System preferences"/>
                </p:breadCrumb>
            </h:form>

            <div class="card mt-3">
                <h:form>
                        <table cellpadding="7">
                                <ui:repeat value="#{userSessionMap.systemPreferences}" var="preference">
                                    <tr>
                                        <td>
                                            <p:outputLabel>#{preference.displayedName}</p:outputLabel>
                                        </td>
                                        <td>
                                            <p:inputText name="#{preference.key}" value="#{preference.value}" type="text">
                                                <p:ajax event="blur" listener="#{userSessionMap.handleUserPreferenceChange}"/>
                                            </p:inputText>
                                        </td>
                                    </tr>
                                </ui:repeat>
                        </table>
                </h:form>
            </div>
        </div>
    </ui:define>

</ui:composition>